# Claude Code 開発ルール

このプロジェクトでClaude Codeを使用する際の重要なルールです。

## 絶対に守るべきルール

### 1. 商品データの追加禁止

**データベース（Supabase）またはPDFスタイルブックに記載されていない商品を勝手に追加しないこと。**

- 商品データは必ず公式のPDFスタイルブック（内装・外装）に基づく
- 架空の商品、想像で作成した商品は絶対に追加しない
- 商品を追加する場合は、必ずユーザーに確認を取る
- 既存のデータと照合し、重複や誤りがないか確認する

### 2. 削除した機能・データの復活禁止

一度削除された機能やデータを、確認なしに復活させないこと。

### 3. デザイン変更時の確認

色やレイアウトを変更する場合は、変更内容を明確に説明し、既存のデザインシステムとの整合性を確認すること。

## プロジェクト固有の情報

### 商品データソース
- 外装: FACADE Style Book（外部スタイルブックPDF）
- 内装: Interior Style Book（内部スタイルブックPDF）
- 水廻り設備: 各メーカーカタログ

### タブ構成
- 設計（design）: 間取りで決まる項目
- 外装（exterior）: 外壁・屋根・玄関
- 内装（interior）: 床・壁・建具
- 水廻り設備（equipment）: キッチン・バス・トイレ
- 電気設備（electrical）: 照明・スイッチ・コンセント
- 家具・家電（furniture）: カーテン・エアコン

### デザインシステム
- プライマリカラー: 青系（blue-500 to indigo-500）
- 全タブで統一されたグラデーション

### デザイン原則
- **色使いはシンプルに** - 目移りしないよう、使用する色は最小限に抑える
- 派手なグラデーションや多色使いは避ける
- 状態表示（選択済み、エラー等）以外で色を増やさない
- 基本は白/グレー/青の3色系統で統一

## UX設計思想

### コンセプト: ポチポチ選択
お客様が各カテゴリでカードをポチポチ選んでいくと、自然に選択が完了している状態を目指す。

### アイテム表示ルール
1. **重複表示禁止** - 1つのアイテムは1つのカテゴリにのみ表示
   - 例: 地上波TVアンテナは「TV視聴」カテゴリのみ、「外部設備」には表示しない
2. **並び順: 標準→オプション** - 標準品を先に、オプション品を後に表示
3. **価格順** - 同じ種別内では価格の安い順に並べる
   - 例: 軒天カテゴリなら、エンボス（標準・0円）が一番左

### カテゴリ管理
- 管理者がノーコードでカテゴリの追加・順番変更ができるようにする
- Supabaseのcategoriesテーブルで管理

## リリース後のノーコード運用（重要）

### 設計方針
本システムは開発時にAIアシスタント（Claude）によるコーディングで構築しているが、**リリース後は社員がコードを書かずに以下の操作ができる状態にすること**。

### ノーコードで可能にする操作
1. **商品データの追加・変更・削除** - 新商品の登録、価格変更、廃番対応
2. **カテゴリの追加・変更・削除** - 新カテゴリ作成、名称変更
3. **表示順の入れ替え** - 商品・カテゴリの並び順変更
4. **選択フローの設定** - ステップ構成、依存関係の変更
5. **プラン別の標準/オプション設定** - LIFE/LIFE+/HOURS/LACIEごとの設定

### 実装アプローチ
- 現在ハードコードされているデータ（`exteriorProducts.ts`等）は、段階的にSupabaseへ移行
- 管理画面（AdminDashboard）に編集UIを追加
- 設定変更は即座にアプリケーションに反映

### 現状と今後
- **現状**: 多くのデータがTypeScriptファイル内にハードコード
- **今後**: Supabase + 管理画面でのノーコード運用へ移行

## Git/デプロイルール

### ブランチ同期（重要）
Vercelは`extrior_image`ブランチからデプロイされるため、**変更をプッシュする際は必ず両ブランチに同時プッシュすること**。

```bash
# コミット後、必ず両方にプッシュ
git push origin main && git push origin main:extrior_image
```

これにより、ローカル（main）とデプロイ（extrior_image）の不一致を防ぐ。
